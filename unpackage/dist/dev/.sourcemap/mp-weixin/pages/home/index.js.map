{"version":3,"sources":["uni-app:///main.js","webpack:///E:/前端/uniapp/财富乐/pages/home/index.vue?7ac3","webpack:///E:/前端/uniapp/财富乐/pages/home/index.vue?ec70","webpack:///E:/前端/uniapp/财富乐/pages/home/index.vue?1ace","webpack:///E:/前端/uniapp/财富乐/pages/home/index.vue?a96d","uni-app:///pages/home/index.vue","webpack:///E:/前端/uniapp/财富乐/pages/home/index.vue?3817","webpack:///E:/前端/uniapp/财富乐/pages/home/index.vue?5be6"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,2F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC2L;AAC3L,gBAAgB,mMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,wLAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAA6sB,CAAgB,6tBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgEjuB;AACA;AACA,sBADA;AAEA,8BAFA;AAGA,oBAHA;AAIA,gBAJA,EADA;;AAOA,MAPA,kBAOA;AACA;AACA,kBADA,EACA;AACA,kBAFA;AAGA;AACA,sBAJA,EAIA;AACA,sBALA,EAKA;AACA,sBANA;AAOA,iBAPA;AAQA,iBARA;AASA,eATA;AAUA,gBAVA;AAWA,kBAXA;AAYA;AACA,oBADA,EAZA;;AAeA;AAAA,OAfA;;AAkBA,cAlBA,EAkBA;AACA;AACA;AACA,iBArBA,EAqBA;AACA,sBAtBA,EAsBA;AACA;AACA,eADA;AAEA,oBAFA,EAvBA;;AA2BA,mBA3BA,EA2BA;AACA,aA5BA,EA4BA;AACA,eA7BA,EA6BA;AACA,cA9BA;AA+BA,eA/BA;AAgCA,aAhCA;AAiCA,oBAjCA;;AAmCA,GA3CA;AA4CA,QA5CA,oBA4CA;AACA;AACA,2BAFA,GAEA,mCAFA;AAGA,2BAHA;AAIA,iCAJA;;AAMA;AACA;AAPA,uCAQA,iBARA;;AAUA,GAtDA;AAuDA,QAvDA,oBAuDA;AACA;AACA;AACA;;;;AAIA,SAHA,KAGA,QAHA,KAGA,CAFA,KAEA,QAFA,KAEA,CADA,IACA,QADA,IACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAZA;AAaA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KATA;AAUA,GAjFA;AAkFA;AACA;AACA,aAFA,uBAEA;AACA;AACA,oBAFA,GAEA,0BAFA;AAGA;AACA,2CADA;AAEA,sBAFA,CAHA,SAGA,GAHA;AAMA,oBANA,GAMA,qBANA;AAOA;AACA;AACA;AACA;AACA,2BADA,GACA,yDADA;AAEA,wBAFA,GAEA,gBAFA;AAGA;AACA;AACA;AACA;AACA,qBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBANA,EAMA,IANA;AAOA;AACA,mBAbA,MAaA;AACA;AACA;AACA,iBA9BA;AA+BA,KAjCA;AAkCA,SAlCA,iBAkCA,CAlCA,EAkCA;AACA;AACA,KApCA;AAqCA,QArCA,gBAqCA,CArCA,EAqCA;AACA;AACA,KAvCA;AAwCA,OAxCA,eAwCA,CAxCA,EAwCA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KAlDA;AAmDA,YAnDA,sBAmDA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA;AACA;AACA,6BADA;AAEA,wBAFA;;AAIA,SALA,MAKA;AACA;AACA,6BADA;AAEA,wBAFA;;AAIA;AACA;AACA,KAzEA;AA0EA,YA1EA,sBA0EA;AACA;AACA,uCADA;AAEA,kCAFA,GADA,SACA,GADA;;AAKA,oBALA,GAKA,WALA;AAMA;AACA;AACA;AACA;AACA,iBAJA,MAIA;AACA;AACA,uCADA;AAEA,gCAFA;;AAIA,iBAfA;AAgBA,KA1FA;AA2FA;AACA,eA5FA,uBA4FA,CA5FA,EA4FA;AACA;AACA,KA9FA;AA+FA,mBA/FA,2BA+FA,QA/FA,EA+FA;AACA;AACA;AACA;AACA;AACA,KApGA;AAqGA;AACA,WAtGA,qBAsGA;AACA,qBADA,GACA,YADA;AAEA;AACA,wCADA;AAEA;AACA,uCADA,EAFA,GAFA,SAEA,GAFA;;;AAQA;AACA;AACA,mCADA;AAEA,kCAFA;AAGA,iBAJA,MAIA;AACA;AACA,iBAdA;AAeA,KArHA;AAsHA;AACA,gBAvHA,wBAuHA,QAvHA,EAuHA;AACA,4BADA;AAEA,qBAFA,GAEA,YAFA;AAGA,sBAHA,GAGA;AACA,kDADA;AAEA,yCAFA;AAGA,mCAHA,EAHA;;AAQA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAhBA;AAiBA;AACA,yCADA;AAEA,gCAFA;AAGA,wBAHA,CAjBA,SAiBA,GAjBA;AAqBA,oBArBA,GAqBA,WArBA;AAsBA;AACA;AACA;AACA,qCADA;AAEA,kCAFA;;AAIA;AACA,mBANA,MAMA;AACA;AACA;AACA;AACA,iBAjCA;AAkCA,KAzJA;AA0JA;AACA,eA3JA,uBA2JA,KA3JA,EA2JA;AACA;AACA,8DADA;;AAGA,KA/JA;AAgKA;AACA,aAjKA,qBAiKA,KAjKA,EAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3KA;AA4KA,WA5KA,qBA4KA;AACA;AACA,KA9KA;AA+KA,UA/KA,oBA+KA;AACA;AACA,KAjLA;;AAmLA;AACA,aApLA,qBAoLA,CApLA,EAoLA;AACA,gCADA;AAEA;AACA,+DAHA,CAGA;AACA;AACA;AACA,iEANA;AAOA,kDAPA;AAQA;AACA;AACA;AACA;AACA,iBAHA,EAGA,GAHA,EATA;AAaA,KAjMA;AAkMA;AACA,aAnMA,uBAmMA;AACA;AACA,6BAFA,CAEA;AACA,KAtMA;AAuMA,aAvMA,qBAuMA,CAvMA,EAuMA;AACA,4BADA,CACA;AACA,KAzMA;;AA2MA,UA3MA,kBA2MA,CA3MA,EA2MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlNA;AAmNA,SAnNA,iBAmNA,CAnNA,EAmNA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAxNA;AAyNA,SAzNA,iBAyNA,CAzNA,EAyNA;AACA;AACA;AACA,KA5NA,EAlFA,E;;;;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAA+zC,CAAgB,uxCAAG,EAAC,C;;;;;;;;;;ACAn1C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=71e217db&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=71e217db&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71e217db\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/index.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=71e217db&scoped=true&\"","var components = {\n  uniTabs: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-tabs/uni-tabs\" */ \"@/components/uni-tabs/uni-tabs.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"home\" :catchtouchmove=\"true\">\r\n\t\t<view class=\"home_row\">\r\n\t\t\t<view class=\"home_row_search\">\r\n\t\t\t\t<view class=\"search_box\">\r\n\t\t\t\t\t<icon class=\"iconfont icon-fangdajing\"></icon>\r\n\t\t\t\t\t<!-- <view class=\"inp\">搜索</view> -->\r\n\t\t\t\t\t<input type=\"input\" style=\"width: 400rpx;\" class=\"inp\" @input=\"changeInput\" placeholder=\"搜索\" />\r\n\t\t\t\t\t<image @click=\"searchByKeyWord(true)\" src=\"@/static/images/home/search.png\"></image>\r\n\t\t\t\t\t<!-- <image src=\"@/assets/images/home/selected/search1.png\"></image> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"home_row_msg\">\r\n\t\t\t\t<image v-show=\"!show2\" @click=\"setShow2\" src=\"@/static/images/home/hongbao.png\" mode=\"\"></image>\r\n\t\t\t\t<image v-show=\"show2\" @click=\"setShow1\" src=\"@/static/images/home/qiandao.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"home_row_tabs\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<view class=\"tabs_box\">\r\n\t\t\t\t\t<uni-tabs fontSize=\"26rpx\" pillsBorderRadius=\"20rpx\" width=\"84rpx\" activeColor=\"#fff\" pillsColor=\"#FD381E\" height=\"50rpx\"\r\n\t\t\t\t\t color=\"#333\" :pills=\"true\" v-model=\"current\" :current=\"current\" :tabs=\"tabs\" @change=\"changeTab\"></uni-tabs>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<image @click=\"goCategorys(1)\" src=\"@/static/images/home/category.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view @touchstart=\"start\" @touchmove=\"move\" @touchend=\"end\" :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\"\r\n\t\t @scrolltolower=\"lower\" @refresherpulling=\"onPulling\" @refresherrestore=\"onRestore\" @refresherrefresh=\"onRefresh($event)\"\r\n\t\t @scroll=\"scroll\" :refresher-enabled=\"enabled\" :refresher-triggered=\"triggered\">\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<!--精品  -->\r\n\t\t\t\t<view class=\"selected_box\" v-if=\"current == 0\">\r\n\t\t\t\t\t<Selected :show1=\"show4\" :goods-list=\"goodsList\"></Selected>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 手机 -->\r\n\t\t\t\t<view v-if=\"index != 0\" class=\"phone_box\">\r\n\t\t\t\t\t<CategoryPage :show1=\"show4\" :goods-list=\"goodsList\" :category-list=\"categoryList\"></CategoryPage>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t</scroll-view>\r\n\r\n\t\t<view class=\"eject\" v-if=\"show\" @click=\"cancle\">\r\n\t\t\t<image @click=\"cancle\" src=\"@/static/images/home/jifen.png\" mode=\"\"></image>\r\n\t\t</view>\r\n\r\n\t\t<NoLogin v-if=\"show1\"></NoLogin>\r\n\r\n\t\t<goTop @click.native=\"goTop\"></goTop>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t//精品\r\n\timport Selected from './selected.vue'\r\n\t//分类 下的页面\r\n\timport CategoryPage from './category_page.vue'\r\n\timport NoLogin from '@/components/no-login.vue'\r\n\timport goTop from '@/components/go-top.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tSelected,\r\n\t\t\tCategoryPage,\r\n\t\t\tNoLogin,\r\n\t\t\tgoTop,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow4: false, //是否是底部\r\n\t\t\t\tshow2: false,\r\n\t\t\t\t// 自定义下拉刷新\r\n\t\t\t\ttriggered: false, //下拉刷新是否被触发\r\n\t\t\t\t_freshing: false, // 是否正在刷新\r\n\t\t\t\t_freshing1: true,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tshow1: true,\r\n\t\t\t\tactive: 0,\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\told: {\r\n\t\t\t\t\tscrollTop: 0\r\n\t\t\t\t},\r\n\t\t\t\ttabs: [ //一级分类\r\n\r\n\t\t\t\t],\r\n\t\t\t\tindex: 0, //让这一个代替所有\r\n\t\t\t\t// pid: 0, //获取分类 还是分类下的所有\r\n\t\t\t\t// cids: 0, //根据分类\r\n\t\t\t\tkeyword: '', //关键字搜索\r\n\t\t\t\tcategoryList: [], //二级分类\r\n\t\t\t\tpages: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t},\r\n\t\t\t\tgoodsList: [], //商品列表\r\n\t\t\t\tsort: 0, //按什么排序默认 综合\r\n\t\t\t\tstatus: 0, //登录状态\r\n\t\t\t\tbs: null,\r\n\t\t\t\tstartY: 0,\r\n\t\t\t\tendY: 0,\r\n\t\t\t\tenabled: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onShow() {\r\n\t\t\tclearInterval(this.bs)\r\n\t\t\tconst authorization = uni.getStorageSync('authorization')\r\n\t\t\tif (!authorization) {\r\n\t\t\t\tthis.show1 = true\r\n\t\t\t} else {\r\n\t\t\t\tthis.show1 = false\r\n\t\t\t\t//获取签到状态\r\n\t\t\t\tawait this.getStatus()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getTabs()\r\n\t\t\tthis.getGoodsList()\r\n\t\t\tuni.$on('activeChange', ({\r\n\t\t\t\tindex,\r\n\t\t\t\ttabs1,\r\n\t\t\t\tshow\r\n\t\t\t}) => {\r\n\t\t\t\tthis.goodsList = []\r\n\t\t\t\tif (index < 3) {\r\n\t\t\t\t\tthis.sort = tabs1[index].sort\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.sort = tabs1[index].sortT\r\n\t\t\t\t}\r\n\t\t\t\tthis.getGoodsList()\r\n\t\t\t})\r\n\t\t\tuni.$on('jiantou', (show) => {\r\n\t\t\t\tthis.goodsList = []\r\n\t\t\t\tthis.pages.page = 1\r\n\t\t\t\tif (show) {\r\n\t\t\t\t\tthis.sort = 6\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.sort = 5\r\n\t\t\t\t}\r\n\t\t\t\tthis.getGoodsList()\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//获取签到状态\r\n\t\t\tasync getStatus() {\r\n\t\t\t\t//获取登录的信息\r\n\t\t\t\tconst user = uni.getStorageSync('info')\r\n\t\t\t\tconst res = await this.$http({\r\n\t\t\t\t\turl: '/user/signStatus'\r\n\t\t\t\t}, true)\r\n\t\t\t\tlet data = res[1] && res[1].data\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\tdata = {}\r\n\t\t\t\t}\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tconst sign_time = uni.getStorageSync(`${user.username}sign_time`)\r\n\t\t\t\t\tconst status = data.data.status\r\n\t\t\t\t\tthis.status = status\r\n\t\t\t\t\tif (status == 0) {\r\n\t\t\t\t\t\tif (!sign_time) {\r\n\t\t\t\t\t\t\tuni.setStorageSync(`${user.username}sign_time`, Date.now())\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//1 秒刷新一次\r\n\t\t\t\t\t\t\tthis.bs = setInterval(() => {\r\n\t\t\t\t\t\t\t\tif (Date.now() - sign_time >= 300000) {\r\n\t\t\t\t\t\t\t\t\tthis.show2 = true\r\n\t\t\t\t\t\t\t\t\tclearInterval(this.bs)\r\n\t\t\t\t\t\t\t\t\tuni.removeStorageSync('${user.username}sign_time')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.show2 = false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstart(e) {\r\n\t\t\t\tthis.startY = e.touches[0].pageY\r\n\t\t\t},\r\n\t\t\tmove(e) {\r\n\t\t\t\tthis.endY = e.touches[0].pageY\r\n\t\t\t},\r\n\t\t\tend(e) {\r\n\t\t\t\tif (this.endY - this.startY > 30) {\r\n\t\t\t\t\tthis.enabled = true\r\n\t\t\t\t\tthis.show4 = false\r\n\t\t\t\t\tthis.onRefresh()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.enabled = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.endY = 0\r\n\t\t\t\tthis.startY = 0\r\n\t\t\t},\r\n\t\t\tsetShow2() {\r\n\t\t\t\t//是否签到\r\n\t\t\t\tconst status = this.status\r\n\t\t\t\tif (status == 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '今天已签完到了 明天再来',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (status == 0) {\r\n\t\t\t\t\tconst user = uni.getStorageSync('info')\r\n\t\t\t\t\tif (user) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '浏览才能领积分哦',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '登录才可以领积分',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync setShow1() {\r\n\t\t\t\tconst res = await this.$http({\r\n\t\t\t\t\turl: '/user/signin',\r\n\t\t\t\t\tmethod: 'post'\r\n\t\t\t\t})\r\n\t\t\t\tconst data = res[1].data\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tthis.show = true\r\n\t\t\t\t\tthis.show2 = false\r\n\t\t\t\t\tthis.getStatus()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: data.message,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//搜索\r\n\t\t\tchangeInput(e) {\r\n\t\t\t\tthis.keyword = e.detail.value\r\n\t\t\t},\r\n\t\t\tsearchByKeyWord(issearch) {\r\n\t\t\t\tthis.show4 = false\r\n\t\t\t\tthis.pages.page = 1\r\n\t\t\t\tthis.goodsList = []\r\n\t\t\t\tthis.getGoodsList(issearch)\r\n\t\t\t},\r\n\t\t\t//获取分类\r\n\t\t\tasync getTabs() {\r\n\t\t\t\tconst index = this.index\r\n\t\t\t\tconst res = await this.$http({\r\n\t\t\t\t\turl: '/dtk/category',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpid: this.index\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\tthis.tabs = [{\r\n\t\t\t\t\t\ttype_name: '精选'\r\n\t\t\t\t\t}, ...res[1].data.data]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.categoryList = res[1].data.data\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取商品\r\n\t\t\tasync getGoodsList(issearch, isshow = false) {\r\n\t\t\t\tif (this.show4) return\r\n\t\t\t\tconst index = this.index\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tpage_size: this.pages.pageSize,\r\n\t\t\t\t\tpage: this.pages.page,\r\n\t\t\t\t\tsort: this.sort,\r\n\t\t\t\t}\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\tparams['sort'] = 4\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams['cids'] = this.index\r\n\t\t\t\t}\r\n\t\t\t\tif (issearch) {\r\n\t\t\t\t\tparams['keyword'] = this.keyword\r\n\t\t\t\t\tdelete params['cids']\r\n\t\t\t\t}\r\n\t\t\t\tconst res = await this.$http({\r\n\t\t\t\t\turl: '/dtk/goodsList',\r\n\t\t\t\t\tdata: params\r\n\t\t\t\t}, isshow)\r\n\t\t\t\tconst data = res[1].data\r\n\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\tif (data.data.length == 0 && this.pages.page == 1) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '暂无商品数据',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.show4 = true\r\n\t\t\t\t\t} else if (data.data.length == 0 && this.pages.page != 1) {\r\n\t\t\t\t\t\tthis.show4 = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.goodsList = [...this.goodsList, ...data.data]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//去更多分类\r\n\t\t\tgoCategorys(index) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/home/cetegorys/index?type=${index}`,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//改变tab\r\n\t\t\tchangeTab(index) {\r\n\t\t\t\tthis.index = index\r\n\t\t\t\tthis.pages.page = 1\r\n\t\t\t\tthis.goodsList = []\r\n\t\t\t\tthis.show4 = false\r\n\t\t\t\tthis.getGoodsList()\r\n\t\t\t\tuni.$emit('reset')\r\n\t\t\t\tif (index != 0) {\r\n\t\t\t\t\tthis.getTabs()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetShow() {\r\n\t\t\t\tthis.show = true\r\n\t\t\t},\r\n\t\t\tcancle() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\r\n\t\t\t// 自定义下拉刷新被触发\r\n\t\t\tasync onRefresh(e) {\r\n\t\t\t\tif (this._freshing) return;\r\n\t\t\t\tthis._freshing = true;\r\n\t\t\t\tif (!this.triggered) this.triggered = true; //界面下拉触发，triggered可能不是true，要设为true \r\n\t\t\t\tthis._freshing = true;\r\n\t\t\t\tthis.pages.page = 1\r\n\t\t\t\tthis.goodsList = this.goodsList.slice(0, 10)\r\n\t\t\t\tawait this.getGoodsList(false, true)\r\n\t\t\t\tuni.$emit('refreshSwiper')\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.triggered = false;\r\n\t\t\t\t\tthis._freshing = false;\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\t//被复位\r\n\t\t\tonRestore() {\r\n\t\t\t\tthis.enabled = false\r\n\t\t\t\tthis.triggered = false; // 需要重置\r\n\t\t\t},\r\n\t\t\tonPulling(e) {\r\n\t\t\t\tthis.triggered = true; // 需要重置\r\n\t\t\t},\r\n\r\n\t\t\tscroll(e) {\r\n\t\t\t\tthis.old.scrollTop = e.detail.scrollTop\r\n\t\t\t\t// if (e.detail.scrollTop < 5) {\r\n\t\t\t\t// \tthis._freshing1 = true\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \tthis._freshing1 = false\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tgoTop(e) {\r\n\t\t\t\tthis.scrollTop = this.old.scrollTop\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.scrollTop = 0\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tlower(e) {\r\n\t\t\t\tthis.pages.page += 1\r\n\t\t\t\tthis.getGoodsList()\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import '@/assets/css/home/index.scss';\r\n</style>\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=71e217db&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=71e217db&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608013285271\n      var cssReload = require(\"C:/Users/Administrator/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}